
import Container from "@/components/Container";
import EmptyState from "@/components/EmptyState";
import FloatingButton from "@/components/FloatingButton";
import Image from "next/image";
import getProducts, { ProductParams } from "./actions/getProducts";
import getCurrentUser from "./actions/getCurrentUser";
import ProductCard from "@/components/ProductCard";
import Categories from "@/components/categories/Categories";
import Link from "next/link";
import Attention from "@/components/Attention";
import './globals.css';

// http://localhost:3000/

interface HomeProps {
  searchParams: ProductParams
}
export default async function Home({ searchParams }: HomeProps) {
  const { data: products, totalItems } = await getProducts(searchParams);
  const currentUser = await getCurrentUser();
  console.log('[Home]', products, totalItems);
  return (
    <div className="relative h-screen">
      {/* <Categories/>
        {
          totalItems === 0 ?
          <EmptyState/> :
          <div className="grid grid-cols-1 gap-8 pt-12
                    sm:grid-cols-2 md:grid-cols-3 lg:grid-cols-4
                    xl:grid-cols-5 2xl:grid-cols-6">
            {products.map((product)=>
              (
                <ProductCard currentUser={currentUser}
                            data={product}
                            key={product.id}/>                
              ))

            }
          </div>

        } */}
      <div className="flex flex-row justify-between items-center p-4">
        <div className="">
          <p className=" mt-2 font-abel text-4xl font-thin text-opacity-90 text-custom-blue">TOP SPIN</p>
          <p className="font-abel text-stone-500 text-sm">이승재 부원</p>
        </div>
        <div className="p-4">My</div>
      </div>
      <div className="bg-custom-blue-2 h-1/2 bottom-0">
        <Attention />
      </div>
      <div className="relative h-1/2">
        <div className="relative bg-white p-4">
          <div className="relative">

            <div className="grid grid-cols-4 gap-8 pt-12
                    sm:grid-cols-2 md:grid-cols-3 lg:grid-cols-4
                    xl:grid-cols-5 2xl:grid-cols-6 text-center mb-4">
              <Link href='/menu/notice' className='text-black text-base sm:text-lg md:text-4xl hover:underline flex flex-col items-center'>
                <svg className="w-12 h-12 md:w-14 md:h-14 lg:w-18 lg:h-18" viewBox="0 0 68 68" fill="none" xmlns="http://www.w3.org/2000/svg">
                  <path d="M32.5834 5.66663C39.7221 5.66663 46.5685 8.50248 51.6163 13.5503C56.6642 18.5982 59.5 25.4445 59.5 32.5833C59.5 36.9183 58.4772 41.0096 56.6582 44.6363L63.6367 51.6176C64.1678 52.149 64.4662 52.8695 64.4662 53.6208C64.4662 54.3721 64.1678 55.0926 63.6367 55.624L55.624 63.6366C55.3609 63.9001 55.0484 64.109 54.7044 64.2516C54.3605 64.3942 53.9918 64.4676 53.6194 64.4676C53.2471 64.4676 52.8784 64.3942 52.5344 64.2516C52.1905 64.109 51.878 63.9001 51.6148 63.6366L44.6363 56.6581C40.8955 58.5331 36.7677 59.5063 32.5834 59.5C25.4446 59.5 18.5982 56.6641 13.5504 51.6163C8.50254 46.5684 5.66669 39.722 5.66669 32.5833C5.66669 25.4445 8.50254 18.5982 13.5504 13.5503C18.5982 8.50248 25.4446 5.66663 32.5834 5.66663ZM47.6085 43.5993L43.6022 47.6056L53.6208 57.6215L57.6272 53.6151L47.6085 43.5993ZM52.8898 26.3018L26.3019 52.8898C28.3367 53.5168 30.4541 53.8349 32.5834 53.8333C35.2399 53.8368 37.8734 53.3409 40.3467 52.3713L37.5927 49.6116C37.0615 49.0803 36.7631 48.3598 36.7631 47.6085C36.7631 46.8572 37.0615 46.1366 37.5927 45.6053L45.6054 37.5926C46.1367 37.0615 46.8572 36.7631 47.6085 36.7631C48.3598 36.7631 49.0804 37.0615 49.6117 37.5926L52.3713 40.3466C53.3409 37.8733 53.8369 35.2398 53.8333 32.5833C53.8333 30.396 53.5018 28.288 52.8898 26.3018Z" fill="#838383" />
                </svg>
                공지
              </Link>
              <Link href='/menu/schedule' className='text-black hover:underline flex flex-col items-center'>
                <svg className="w-12 h-12 md:w-14 md:h-14 lg:w-18 lg:h-18" viewBox="0 0 88 82" fill="none" xmlns="http://www.w3.org/2000/svg">
                  <path d="M60.5 11.7413H55V20.2873H60.5V11.7413ZM69.894 14.7292H63.25V22.8523H52.25V14.7292H35.75V22.8472H24.7555V14.7292H18.1005V69.9639H69.894V14.7292ZM67.1495 67.4014H20.856V35.8442H67.1468L67.1495 67.4014ZM33 11.7439H27.5V20.2873H33V11.7413V11.7439ZM53.427 61.4051H57.739V41.4433H54.23C54.23 41.6175 54.1695 41.8866 54.0595 42.2453C53.878 42.8398 53.5975 43.3216 53.2345 43.6803C52.678 44.2168 51.958 44.5809 51.172 44.7233C50.644 44.8335 49.7145 44.9155 48.3863 44.9718V47.642H53.4243V61.4026L53.427 61.4051ZM37.6008 58.7043C36.2533 58.7043 35.3265 58.2174 34.815 57.2565C34.54 56.7363 34.4025 56.0777 34.4025 55.2756H30.2665C30.3353 56.8644 30.679 58.1456 31.3005 59.1296C32.483 60.9746 34.584 61.8971 37.6145 61.8971C40.0758 61.8971 41.932 61.2565 43.186 59.9753C44.4373 58.694 45.067 57.2129 45.067 55.5268C45.067 53.9201 44.5308 52.6568 43.4555 51.7291C42.7405 51.1141 42.1905 50.8066 41.8 50.8066C42.3143 50.6273 42.8038 50.2788 43.2768 49.774C44.0248 48.9693 44.3988 47.9802 44.3988 46.8015C44.3988 45.1435 43.7718 43.8187 42.5178 42.8296C41.2665 41.843 39.6165 41.351 37.5678 41.351C36.4678 41.351 35.541 41.4791 34.782 41.7251C34.0553 41.9547 33.3869 42.321 32.8185 42.8014C32.076 43.46 31.5398 44.18 31.196 44.959C30.8671 45.8706 30.6818 46.8218 30.646 47.7829H34.5785C34.5593 46.7989 34.782 46.0148 35.2495 45.4254C35.717 44.8411 36.4458 44.5465 37.4358 44.5465C38.2993 44.5465 38.9758 44.7873 39.4433 45.264C39.9245 45.7406 40.1583 46.3581 40.1583 47.1218C40.1583 48.2954 39.6963 49.077 38.764 49.4613C38.225 49.692 37.2708 49.815 35.904 49.8329V52.6414C37.301 52.6414 38.324 52.7695 38.9703 53.0155C40.1088 53.4563 40.6753 54.3326 40.6753 55.6446C40.6753 56.6363 40.3728 57.3948 39.7568 57.9253C39.1463 58.4378 38.4285 58.7017 37.6035 58.7017L37.6008 58.7043Z" fill="#838383" />
                </svg>

                스케줄
              </Link>
              <Link href='/menu/fruitGame' className='text-black hover:underline flex flex-col items-center'>
                <svg className="w-12 h-12 md:w-14 md:h-14 lg:w-18 lg:h-18" viewBox="0 0 68 67" fill="none" xmlns="http://www.w3.org/2000/svg">
                  <path d="M34 61.4167C49.6485 61.4167 62.3334 48.9184 62.3334 33.5C62.3334 18.0817 49.6485 5.58337 34 5.58337C18.3515 5.58337 5.66669 18.0817 5.66669 33.5C5.66669 48.9184 18.3515 61.4167 34 61.4167Z" stroke="#838383" stroke-width="4" stroke-linejoin="round" />
                  <path d="M34 41.875C38.6944 41.875 42.5 38.1254 42.5 33.5C42.5 28.8746 38.6944 25.125 34 25.125C29.3056 25.125 25.5 28.8746 25.5 33.5C25.5 38.1254 29.3056 41.875 34 41.875Z" stroke="#838383" stroke-width="4" stroke-linejoin="round" />
                  <path d="M42.5 33.5H62.3334M5.66669 33.5H25.5" stroke="#838383" stroke-width="4" stroke-linecap="round" stroke-linejoin="round" />
                  <path d="M34 36.2917C35.5648 36.2917 36.8334 35.0418 36.8334 33.5C36.8334 31.9582 35.5648 30.7084 34 30.7084C32.4352 30.7084 31.1667 31.9582 31.1667 33.5C31.1667 35.0418 32.4352 36.2917 34 36.2917Z" fill="#838383" />
                </svg>

                게임
              </Link>
              <Link href='/menu/ranking' className='text-black hover:underline flex flex-col items-center'>
                <svg className="w-12 h-12 md:w-14 md:h-14 lg:w-18 lg:h-18" viewBox="0 0 79 81" fill="none" xmlns="http://www.w3.org/2000/svg">
                  <path fill-rule="evenodd" clip-rule="evenodd" d="M66.3679 64.7985C66.3677 64.145 66.1144 63.5183 65.6638 63.0561C65.2132 62.5939 64.6021 62.3341 63.9647 62.3336H15.0361C14.3987 62.3341 13.7875 62.5939 13.3369 63.0561C12.8863 63.5183 12.6331 64.145 12.6329 64.7985V67.934C12.6328 68.2576 12.6949 68.578 12.8156 68.877C12.9363 69.176 13.1133 69.4477 13.3365 69.6765C13.5597 69.9054 13.8247 70.0869 14.1163 70.2107C14.4079 70.3344 14.7204 70.3981 15.0361 70.398H63.9647C64.2804 70.3982 64.5929 70.3346 64.8846 70.2109C65.1763 70.0871 65.4413 69.9056 65.6645 69.6768C65.8877 69.4479 66.0647 69.1762 66.1854 68.8772C66.3061 68.5781 66.3681 68.2576 66.3679 67.934V64.7985ZM19.449 31.1308L19.4356 31.117L19.434 31.1187C18.9702 30.704 18.3762 30.4745 17.7608 30.4723C17.087 30.473 16.4403 30.744 15.959 31.2273C15.4777 31.7107 15.2 32.368 15.1854 33.0586H15.1222V56.7414H15.2035C15.326 58.0852 16.417 59.143 17.7608 59.143C17.7702 59.143 17.7797 59.1406 17.7892 59.1398V59.143H61.21V59.0815C61.2202 59.0815 61.2289 59.0847 61.2392 59.0847C62.5624 59.0847 63.6416 58.0576 63.7901 56.7414H63.8193V33.5503C63.8991 33.1649 63.8939 32.7661 63.8041 32.383C63.7144 31.9999 63.5423 31.6422 63.3005 31.3359C63.0587 31.0297 62.7533 30.7827 62.4065 30.613C62.0597 30.4433 61.6803 30.3551 61.2961 30.3548C60.683 30.3548 60.1277 30.5833 59.6845 30.9486L59.6774 30.9413L59.6055 31.015C59.5177 31.0933 59.4353 31.1777 59.359 31.2677L53.923 36.8413L41.3999 24.0012L41.3754 24.0263C41.1356 23.7625 40.8454 23.5522 40.5229 23.4082C40.2004 23.2643 39.8525 23.1899 39.5008 23.1896C39.1483 23.1899 38.7997 23.2647 38.4766 23.4092C38.1535 23.5537 37.863 23.7649 37.6229 24.0295L37.5953 24.0012L25.0446 36.868L19.6994 31.3868C19.6214 31.2961 19.5377 31.2106 19.449 31.1308ZM57.6487 37.93V38.0069H57.5736L57.6487 37.93Z" fill="#838383" />
                  <path d="M17.6549 26.8693C20.291 26.8693 22.4281 24.6782 22.4281 21.9753C22.4281 19.2724 20.291 17.0813 17.6549 17.0813C15.0187 17.0813 12.8817 19.2724 12.8817 21.9753C12.8817 24.6782 15.0187 26.8693 17.6549 26.8693Z" fill="#838383" />
                  <path d="M61.1049 26.8693C63.7411 26.8693 65.8781 24.6782 65.8781 21.9753C65.8781 19.2724 63.7411 17.0813 61.1049 17.0813C58.4688 17.0813 56.3317 19.2724 56.3317 21.9753C56.3317 24.6782 58.4688 26.8693 61.1049 26.8693Z" fill="#838383" />
                  <path d="M39.7749 20.3894C42.411 20.3894 44.5481 18.1982 44.5481 15.4953C44.5481 12.7924 42.411 10.6013 39.7749 10.6013C37.1387 10.6013 35.0017 12.7924 35.0017 15.4953C35.0017 18.1982 37.1387 20.3894 39.7749 20.3894Z" fill="#838383" />
                </svg>

                랭킹
              </Link>
              <Link href='/menu/reward' className='text-black hover:underline flex flex-col items-center'>
                <svg className="w-12 h-12 md:w-14 md:h-14 lg:w-18 lg:h-18" viewBox="0 0 57 59" fill="none" xmlns="http://www.w3.org/2000/svg">
                  <g clip-path="url(#clip0_23_26)">
                    <path d="M42.2655 11.8H57V29.5H54.15V59H2.85V29.5H0V11.8H14.7345C14.0955 9.94575 14.0722 7.92387 14.668 6.05426C15.2639 4.18466 16.445 2.5741 18.0246 1.47737C19.6041 0.380638 21.4918 -0.139633 23.3891 -0.00113717C25.2863 0.137359 27.0848 0.926715 28.5 2.24205C29.9152 0.926715 31.7137 0.137359 33.6109 -0.00113717C35.5082 -0.139633 37.3959 0.380638 38.9754 1.47737C40.555 2.5741 41.7361 4.18466 42.332 6.05426C42.9278 7.92387 42.9045 9.94575 42.2655 11.8ZM22.8 29.5H8.55V53.1H22.8V29.5ZM34.2 29.5V53.1H48.45V29.5H34.2ZM22.8 17.7H5.7V23.6H22.8V17.7ZM34.2 17.7V23.6H51.3V17.7H34.2ZM22.8 11.8C23.5559 11.8 24.2808 11.4892 24.8153 10.936C25.3497 10.3828 25.65 9.63244 25.65 8.85005C25.65 8.06766 25.3497 7.31732 24.8153 6.76408C24.2808 6.21085 23.5559 5.90005 22.8 5.90005C22.0441 5.90005 21.3192 6.21085 20.7847 6.76408C20.2503 7.31732 19.95 8.06766 19.95 8.85005C19.95 9.63244 20.2503 10.3828 20.7847 10.936C21.3192 11.4892 22.0441 11.8 22.8 11.8ZM34.2 11.8C34.9559 11.8 35.6808 11.4892 36.2153 10.936C36.7497 10.3828 37.05 9.63244 37.05 8.85005C37.05 8.06766 36.7497 7.31732 36.2153 6.76408C35.6808 6.21085 34.9559 5.90005 34.2 5.90005C33.4441 5.90005 32.7192 6.21085 32.1847 6.76408C31.6503 7.31732 31.35 8.06766 31.35 8.85005C31.35 9.63244 31.6503 10.3828 32.1847 10.936C32.7192 11.4892 33.4441 11.8 34.2 11.8Z" fill="#838383" />
                  </g>
                  <defs>
                    <clipPath id="clip0_23_26">
                      <rect width="57" height="59" fill="white" />
                    </clipPath>
                  </defs>
                </svg>

                보상
              </Link>
              <Link href='/menu/teammission' className='text-black hover:underline flex flex-col items-center'>
                <svg className="w-12 h-12 md:w-14 md:h-14 lg:w-18 lg:h-18" viewBox="0 0 71 69" fill="none" xmlns="http://www.w3.org/2000/svg">
                  <path d="M26.625 22.6406C26.625 23.4984 26.2744 24.3211 25.6502 24.9277C25.0261 25.5342 24.1795 25.875 23.2969 25.875C22.4142 25.875 21.5677 25.5342 20.9435 24.9277C20.3194 24.3211 19.9688 23.4984 19.9688 22.6406C19.9688 21.7828 20.3194 20.9601 20.9435 20.3536C21.5677 19.747 22.4142 19.4062 23.2969 19.4062C24.1795 19.4062 25.0261 19.747 25.6502 20.3536C26.2744 20.9601 26.625 21.7828 26.625 22.6406ZM26.625 34.5C26.625 35.3578 26.2744 36.1805 25.6502 36.787C25.0261 37.3936 24.1795 37.7344 23.2969 37.7344C22.4142 37.7344 21.5677 37.3936 20.9435 36.787C20.3194 36.1805 19.9688 35.3578 19.9688 34.5C19.9688 33.6422 20.3194 32.8195 20.9435 32.213C21.5677 31.6064 22.4142 31.2656 23.2969 31.2656C24.1795 31.2656 25.0261 31.6064 25.6502 32.213C26.2744 32.8195 26.625 33.6422 26.625 34.5ZM23.2969 49.5938C24.1795 49.5938 25.0261 49.253 25.6502 48.6464C26.2744 48.0399 26.625 47.2172 26.625 46.3594C26.625 45.5016 26.2744 44.6789 25.6502 44.0723C25.0261 43.4658 24.1795 43.125 23.2969 43.125C22.4142 43.125 21.5677 43.4658 20.9435 44.0723C20.3194 44.6789 19.9688 45.5016 19.9688 46.3594C19.9688 47.2172 20.3194 48.0399 20.9435 48.6464C21.5677 49.253 22.4142 49.5938 23.2969 49.5938ZM31.0625 22.6406C31.0625 22.0688 31.2963 21.5203 31.7124 21.1159C32.1285 20.7116 32.6928 20.4844 33.2812 20.4844H48.8125C49.4009 20.4844 49.9653 20.7116 50.3814 21.1159C50.7975 21.5203 51.0312 22.0688 51.0312 22.6406C51.0312 23.2125 50.7975 23.7609 50.3814 24.1653C49.9653 24.5697 49.4009 24.7969 48.8125 24.7969H33.2812C32.6928 24.7969 32.1285 24.5697 31.7124 24.1653C31.2963 23.7609 31.0625 23.2125 31.0625 22.6406ZM33.2812 32.3438C32.6928 32.3438 32.1285 32.5709 31.7124 32.9753C31.2963 33.3797 31.0625 33.9281 31.0625 34.5C31.0625 35.0719 31.2963 35.6203 31.7124 36.0247C32.1285 36.4291 32.6928 36.6562 33.2812 36.6562H48.8125C49.4009 36.6562 49.9653 36.4291 50.3814 36.0247C50.7975 35.6203 51.0312 35.0719 51.0312 34.5C51.0312 33.9281 50.7975 33.3797 50.3814 32.9753C49.9653 32.5709 49.4009 32.3438 48.8125 32.3438H33.2812ZM31.0625 46.3594C31.0625 45.7875 31.2963 45.239 31.7124 44.8347C32.1285 44.4303 32.6928 44.2031 33.2812 44.2031H48.8125C49.4009 44.2031 49.9653 44.4303 50.3814 44.8347C50.7975 45.239 51.0312 45.7875 51.0312 46.3594C51.0312 46.9312 50.7975 47.4797 50.3814 47.8841C49.9653 48.2885 49.4009 48.5156 48.8125 48.5156H33.2812C32.6928 48.5156 32.1285 48.2885 31.7124 47.8841C31.2963 47.4797 31.0625 46.9312 31.0625 46.3594ZM16.6406 6.46875C13.9926 6.46875 11.453 7.49104 9.58061 9.31073C7.70817 11.1304 6.65625 13.5984 6.65625 16.1719V52.8281C6.65625 55.4016 7.70817 57.8696 9.58061 59.6893C11.453 61.509 13.9926 62.5312 16.6406 62.5312H54.3594C57.0074 62.5312 59.547 61.509 61.4194 59.6893C63.2918 57.8696 64.3438 55.4016 64.3438 52.8281V16.1719C64.3438 13.5984 63.2918 11.1304 61.4194 9.31073C59.547 7.49104 57.0074 6.46875 54.3594 6.46875H16.6406ZM11.0938 16.1719C11.0938 14.7422 11.6782 13.3711 12.7184 12.3601C13.7586 11.3492 15.1695 10.7812 16.6406 10.7812H54.3594C55.8305 10.7812 57.2414 11.3492 58.2816 12.3601C59.3218 13.3711 59.9062 14.7422 59.9062 16.1719V52.8281C59.9062 54.2578 59.3218 55.6289 58.2816 56.6399C57.2414 57.6508 55.8305 58.2188 54.3594 58.2188H16.6406C15.1695 58.2188 13.7586 57.6508 12.7184 56.6399C11.6782 55.6289 11.0938 54.2578 11.0938 52.8281V16.1719Z" fill="#838383" />
                </svg>

                팀미션
              </Link>
            </div>
          </div>
        </div>
      </div>
      {currentUser ?
        <FloatingButton href="/products/upload">my</FloatingButton>
        : null
      }
    </div>


  );
}
